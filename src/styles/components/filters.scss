.filters {
  display: flex;
  align-items: center;
  gap: 8px;
  $filters: &;

  &_item {
    display: flex;
    align-items: center;
    justify-content: center;
    line-height: 1;
    font-size: 16px;
    font-weight: 500;
    border: 1px solid $color-1;
    color: $URBAN-STEEL;
    padding: 0 12px;
    height: 36px;
    border-radius: 6px;
    background: none;
    cursor: pointer;

    &.active {
      background: $color-12;
      color: $CULT-FLAME;
      border-color: transparent;
    }

    &-default {
      margin-left: auto;
      color: $SHADOW-RITE;
    }
  }

  &-alt {
    width: 100%;
    display: flex;
    flex-direction: column;

    #{$filters}_items {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    #{$filters}_item {
      height: 32px;
      padding: 0 8px 0 12px;
      display: flex;
      align-items: center;
      gap: 2px;
      position: relative;

      &-calendar {
        width: 32px;
        padding: 0;

        &_icon {
          color: $URBAN-STEEL;
        }
      }

      &-arrow {
        &::after {
          content: '';
          display: block;
          width: 20px;
          height: 20px;
          background-position: center;
          background-size: contain;
          background-repeat: no-repeat;
          background-image: url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M15.8065 8.52222C15.8071 8.63189 15.7861 8.74061 15.7446 8.84214C15.7032 8.94368 15.6421 9.03602 15.5648 9.11389L10.5648 14.1139C10.4087 14.2691 10.1975 14.3562 9.97733 14.3562C9.75718 14.3562 9.54597 14.2691 9.38983 14.1139L4.38983 9.11389C4.25331 8.95447 4.18197 8.74941 4.19007 8.53968C4.19818 8.32995 4.28512 8.131 4.43353 7.98259C4.58194 7.83417 4.78089 7.74723 4.99062 7.73913C5.20035 7.73103 5.40542 7.80237 5.56483 7.93889L9.97317 12.3472L14.3815 7.93889C14.4976 7.82187 14.6457 7.7419 14.8072 7.70907C14.9687 7.67625 15.1364 7.69206 15.2889 7.7545C15.4414 7.81694 15.572 7.9232 15.6641 8.05985C15.7563 8.19651 15.8058 8.35741 15.8065 8.52222Z' fill='%23AEB2B7'/%3E%3C/svg%3E");
          transition: all 0.2s linear;
        }
      }

      &-past {
        background: #f5f4f3;
        text-decoration: none;
        margin-left: auto;
        padding: 0 12px;
      }
    }
    #{$filters}_body {
    }
    #{$filters}_content {
      transition: all 0.4s ease-in-out; /* Изменено на ease-in-out для более плавного эффекта */
      max-height: 0; /* Изменено с height на max-height */
      overflow: hidden; /* Скрываем содержимое при сворачивании */
      opacity: 0;
      visibility: hidden;
      gap: 40px;
      will-change: max-height, opacity; /* Оптимизация для анимации */

      &_wrapper {
        padding: 24px 16px;
        border: 1px solid $color-1;
        border-radius: 8px;
        display: flex;
        flex-direction: column;
        gap: 16px;

        &-calendar {
          display: grid;
          grid-template-columns: 360px 1fr;
          gap: 16px;
          padding: 0;
          border: none;
        }
      }

      &_title {
        &-alt {
          display: flex;
          align-items: center;
          justify-content: space-between;
        }
      }

      &_calendar {
        width: 100%;
        padding: 16px;
        border: 1px solid $color-1;
        border-radius: 8px;
        display: flex;
        flex-direction: column;
        gap: 16px;
      }

      &_checkboxes {
        display: flex;
        align-items: center;
        gap: 8px;
        flex-wrap: wrap;
      }

      &_label {
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 4px;
        font-size: 14px;
        color: $SHADOW-RITE;
        font-weight: 500;
        padding: 0 8px;
        height: 32px;
        border-radius: 6px;
        border: 1px solid $color-1;
        line-height: 1;

        span {
          color: $URBAN-STEEL;
          font-weight: 400;
        }
      }

      &.show {
        padding-top: 24px;
        max-height: 2000px; /* Достаточно большое значение для вмещения контента */
        opacity: 1;
        visibility: visible;
      }
    }
    input[type='checkbox'] {
      position: absolute; /* Убираем из потока */
      opacity: 0; /* Делаем невидимым */
      z-index: -1; /* Уводим под другие элементы */
      width: 0; /* Для лучшей совместимости */
      height: 0;

      &:checked + label {
        &#{$filters}_item {
          &-arrow {
            background: #fff;
            &::after {
              transform: rotate(-180deg);
            }
          }
        }
        #{$filters}_item {
          &-calendar {
            &_icon {
              color: $CULT-FLAME;
            }
          }
        }
        &#{$filters}_content {
          &_label {
            background: rgba($CULT-FLAME, 0.08);
            border-color: rgba($CULT-FLAME, 0.12);
            color: $CULT-FLAME;
          }
        }
      }
    }
  }
}
